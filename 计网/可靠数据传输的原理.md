# 可靠数据传输(rdt)的原理

数据单项流动，控制双向流动。

# 问题：

向上层提供可靠服务。但下层不可靠。

下层可能乱序，丢失等问题。

# 思路

假设下层可靠。

再一一去掉假设的可靠特性。本层增加特性。

直到假设可靠特性全都去掉。



# 有限状态机FSM

描述协议的工作机制。

状态变迁的条件和状态变迁时所做的动作。

# RDT1.0 下层可靠

假设下层可靠。（不错，无丢失，有序

本层啥都不做。

# RDT2.0 出错

出现bit反转。（可能出错

使用差错控制编码（EDC

返回接收方校验结果。（ACK/NAK

## 问题

校验结果可能会错。

# RDT2.1

引入编号机制。接收方可以识别是否重复。

# RDT2.2 NAK free

无NAK，只使用（ack 做编号

用前一个ACK代表后一个的NAK。 e.g： NAK1 = ACK0

适用流水线协议。

ACK协议动作直译为后一个包的发送。



# RDT3.0 +丢失

超时重传。发送方设置定时器。

超时时间动态。

对应ACK动作可不重放，等待定时器启动。

# 停止等待协议在链路长的时候效率低。